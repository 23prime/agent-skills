---
name: effective-go
description: 公式 Effective Go ガイドに基づくベストプラクティスと規約を適用し、クリーンで慣用的な Go コードを書くためのスキル。Go の命名規則、フォーマット、エラーハンドリング、並行処理、プログラム構造に関する確立された規約に従ってコードを書く、レビューする、リファクタリングする際に使用する。
translated_from: SKILL.md
---

# Effective Go

## 概要

このスキルは Effective Go のリファレンス資料一式を提供し、Go チームが確立した規約に従った慣用的な Go コードの記述を支援する。Go のコードスタイル、構造、パターンに関する判断を行う際に、関連するリファレンスファイルを参照する。

## 使用場面

- 新しい Go コード（関数、型、パッケージ）の記述
- 既存の Go コードのレビューやリファクタリング
- 命名規則、エラーハンドリングパターン、並行処理アプローチの決定
- 慣用的な Go スタイルに関する疑問の解決

## リファレンスガイド

`references/` ディレクトリに、トピック別に分割された Effective Go ガイドの全文が格納されている。タスクに応じて関連ファイルを読み込む:

| ファイル | トピック | 参照する場面 |
| ------ | ------- | ----------------- |
| `01-introduction.md` | イントロダクションと例 | 全体像の把握 |
| `02-formatting.md` | gofmt、インデント、行の長さ、括弧 | フォーマットに関する疑問 |
| `03-commentary.md` | コメントとドキュメントコメント | ドキュメントの記述 |
| `04-names.md` | パッケージ名、ゲッター、インターフェース、MixedCaps | 命名の判断 |
| `05-semicolons.md` | セミコロン挿入規則、ブレースの配置 | 構文に関する疑問 |
| `06-control-structures.md` | if、for、switch、型スイッチ | 制御フローパターン |
| `07-functions.md` | 複数戻り値、名前付き戻り値、defer | 関数設計 |
| `08-data.md` | new と make、スライス、マップ、出力、append | データ構造の使用 |
| `09-initialization.md` | 定数、iota、変数、init 関数 | 初期化パターン |
| `10-methods.md` | ポインタレシーバと値レシーバ | メソッド設計 |
| `11-interfaces-and-other-types.md` | インターフェース、型変換、型アサーション、汎用性 | インターフェース設計 |
| `12-blank-identifier.md` | ブランク識別子、未使用インポート、インターフェースチェック | ブランク識別子のイディオム |
| `13-embedding.md` | インターフェースと構造体の埋め込み、名前の衝突 | コンポジションパターン |
| `14-concurrency.md` | ゴルーチン、チャネル、並列化、リーキーバッファ | 並行プログラミング |
| `15-errors.md` | エラー型、panic、recover | エラーハンドリング |

## 主要な原則

慣用的な Go を書くために、以下の高レベルな原則を適用する（詳細はリファレンスファイルを参照）:

- **フォーマット**: `gofmt` を実行する。フォーマッタに逆らわない。
- **命名**: 短く簡潔な名前。ゲッターに `Get` プレフィックスを付けない。アンダースコアではなく `MixedCaps` を使用する。パッケージ名で吃音を避ける（`bufio.BufReader` ではなく `bufio.Reader`）。
- **制御フロー**: `return` の後の不要な `else` を排除する。`if-else` チェーンより `switch` を使用する。正常系パスのインデントを浅く保つ。
- **エラーハンドリング**: 最後の戻り値としてエラーを返す。コンテキストを付与してラップする。`panic` より `error` を優先する。
- **並行処理**: 通信によってメモリを共有する。同期にはチャネルを使用する。無制限のゴルーチン生成より固定ワーカープールを優先する。
- **インターフェース**: インターフェースを受け取り、具象型を返す。メソッドが一つのインターフェースには `-er` サフィックスを付ける。コンパイル時インターフェースチェックを使用する（`var _ Interface = (*Type)(nil)`）。
- **コンポジション**: 継承スタイルのパターンより埋め込みを優先する。フィールドごとの初期化よりコンポジットリテラルを使用する。
