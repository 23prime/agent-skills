# フォーマット

フォーマットの問題は最も議論を呼びやすいが、最も重要性が低い。人は異なるフォーマットスタイルに適応できるが、その必要がない方が良く、全員が同じスタイルに従えばこのトピックに費やす時間は少なくなる。問題は、長い規範的なスタイルガイドなしでこのユートピアにどうアプローチするかである。

Goでは珍しいアプローチを取り、ほとんどのフォーマット問題を機械に任せる。`gofmt`プログラム（`go fmt`としても利用可能で、こちらはソースファイルレベルではなくパッケージレベルで動作する）はGoプログラムを読み取り、標準スタイルのインデントと垂直方向の配置でソースを出力し、コメントを保持し必要に応じて再フォーマットする。新しいレイアウト状況をどう扱うか知りたい場合は、`gofmt`を実行すればよい。もし答えが正しくないように思えたら、プログラムを再構成する（または`gofmt`についてバグ報告をする）べきであり、回避策を講じるべきではない。

例として、構造体のフィールドのコメントを整列させるために時間を費やす必要はない。`Gofmt`がそれを行ってくれる。次の宣言があるとすると

```go
type T struct {
    name string // name of the object
    value int // its value
}
```

`gofmt`は列を整列させる。

```go
type T struct {
    name    string // オブジェクトの名前
    value   int    // その値
}
```

標準パッケージ内のすべてのGoコードは`gofmt`でフォーマットされている。

いくつかのフォーマットの詳細は残っている。非常に簡潔に述べると、

## インデント

タブをインデントに使用し、`gofmt`はデフォルトでそれを出力する。どうしても必要な場合のみスペースを使う。

## 行の長さ

Goには行の長さ制限がない。パンチカードが溢れることを心配する必要はない。行が長すぎると感じたら、折り返して余分なタブでインデントする。

## 括弧

Goは、CやJavaよりも括弧が少なくて済む。制御構造（`if`、`for`、`switch`）は構文に括弧を持たない。また、演算子の優先順位階層はより短く明確であるため、

```go
x<<8 + y<<16
```

は、他の言語とは異なり、空白が示唆する通りの意味になる。
