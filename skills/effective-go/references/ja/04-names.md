# 名前

名前は、他の言語と同様にGoにおいても重要である。名前には意味的な効果もある。パッケージ外部における名前の可視性は、その最初の文字が大文字かどうかで決まる。したがって、Goプログラムにおける命名規則について少し時間をかけて説明する価値がある。

## パッケージ名

パッケージがインポートされると、パッケージ名がその内容へのアクセサとなる。

```go
import "bytes"
```

の後、インポートしたパッケージは`bytes.Buffer`について言及できる。パッケージを使用するすべての人が同じ名前を使ってその内容を参照できると便利である。これは、パッケージ名が良いものであるべきことを意味する。すなわち、短く、簡潔で、連想的であるべきである。慣例により、パッケージには小文字の単一単語の名前が与えられる。アンダースコアやmixedCapsは必要ないはずである。簡潔さの側に倒すべきである。なぜなら、パッケージを使用するすべての人がその名前を入力することになるからである。そして、事前に衝突を心配する必要はない。パッケージ名はインポート時のデフォルト名にすぎない。すべてのソースコードにわたって一意である必要はなく、まれに衝突が起きた場合は、インポートするパッケージがローカルで使用する別の名前を選択できる。いずれにせよ、混乱はまれである。なぜなら、インポート内のファイル名がどのパッケージが使用されているかを決定するからである。

もう一つの慣例は、パッケージ名がそのソースディレクトリのベース名であることである。`src/encoding/base64`のパッケージは`"encoding/base64"`としてインポートされるが、名前は`base64`であり、`encoding_base64`でも`encodingBase64`でもない。

パッケージのインポート者はその内容を参照するために名前を使用するため、パッケージ内のエクスポートされた名前はその事実を利用して重複を避けることができる。(`import .`記法は使用しないこと。これはテスト対象のパッケージの外部で実行する必要があるテストを簡素化できるが、それ以外では避けるべきである。)たとえば、`bufio`パッケージのバッファ付きreader型は`BufReader`ではなく`Reader`と呼ばれる。なぜなら、ユーザーはそれを`bufio.Reader`として見るからであり、これは明確で簡潔な名前である。さらに、インポートされたエンティティは常にそのパッケージ名でアドレス指定されるため、`bufio.Reader`は`io.Reader`と競合しない。同様に、`ring.Ring`の新しいインスタンスを作成する関数—これがGoにおけるコンストラクタの定義である—は通常`NewRing`と呼ばれるが、`Ring`がパッケージによってエクスポートされる唯一の型であり、パッケージが`ring`と呼ばれるため、単に`New`と呼ばれ、パッケージのクライアントは`ring.New`として見る。良い名前を選ぶためにパッケージ構造を利用すること。

もう一つの短い例は`once.Do`である。`once.Do(setup)`は読みやすく、`once.DoOrWaitUntilDone(setup)`と書いても改善されない。長い名前が自動的に物事をより読みやすくするわけではない。有用なdocコメントは、余分に長い名前よりもしばしば価値がある。

## Getter

Goはgetterとsetterの自動サポートを提供しない。getterとsetterを自分で提供することに問題はなく、そうすることが適切な場合も多いが、getterの名前に`Get`を入れることは慣用的でも必要でもない。`owner`(小文字、非エクスポート)というフィールドがある場合、getterメソッドは`GetOwner`ではなく`Owner`(大文字、エクスポート)と呼ばれるべきである。エクスポートのために大文字の名前を使用することで、フィールドとメソッドを区別するフックが提供される。必要に応じてsetter関数は`SetOwner`と呼ばれるだろう。両方の名前は実際によく読める。

```go
owner := obj.Owner()
if owner != user {
    obj.SetOwner(user)
}
```

## インターフェース名

慣例により、1つのメソッドを持つインターフェースは、メソッド名に-erサフィックスまたは類似の修正を加えて動作主体名詞を構成することで命名される。`Reader`、`Writer`、`Formatter`、`CloseNotifier`などである。

このような名前は多数あり、それらとそれらが捕捉する関数名を尊重することは生産的である。`Read`、`Write`、`Close`、`Flush`、`String`などは標準的なシグネチャと意味を持つ。混乱を避けるため、同じシグネチャと意味を持たない限り、メソッドにこれらの名前の1つを付けてはならない。逆に、型がよく知られた型のメソッドと同じ意味を持つメソッドを実装する場合は、同じ名前とシグネチャを与えること。文字列変換メソッドは`ToString`ではなく`String`と呼ぶこと。

## MixedCaps

最後に、Goの慣例では、複数単語の名前を書くためにアンダースコアではなく`MixedCaps`または`mixedCaps`を使用する。
