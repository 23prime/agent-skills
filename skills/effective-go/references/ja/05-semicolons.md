# セミコロン

Cと同様に、Goの正式な文法ではセミコロンを使用して文を終端させるが、Cとは異なり、それらのセミコロンはソースコードには現れない。代わりに、レキサーは走査中に単純なルールを使用してセミコロンを自動的に挿入するため、入力テキストはほとんどセミコロンから解放されている。

ルールは次の通りである。改行の直前の最後のトークンが識別子（`int`や`float64`のような単語を含む）、数値や文字列定数のような基本的なリテラル、または次のトークンのいずれかである場合、

    break continue fallthrough return ++ -- ) }

レキサーは常にトークンの後にセミコロンを挿入する。これは「改行が文を終了できるトークンの後に来る場合、セミコロンを挿入する」と要約できる。

セミコロンは閉じ括弧の直前でも省略できるため、次のような文は

    go func() { for { dst <- <-src } }()

セミコロンを必要としない。慣用的なGoプログラムは、`for`ループ節のように初期化子、条件、継続要素を分離するような場所にのみセミコロンを持つ。また、1行に複数の文を書く場合には、それらを分離するためにセミコロンが必要である。

セミコロン挿入ルールの結果の1つは、制御構造（`if`、`for`、`switch`、または`select`）の開き括弧を次の行に置くことができないことである。そうすると、括弧の前にセミコロンが挿入され、望ましくない効果を引き起こす可能性がある。次のように書く

    if i < f() {
        g()
    }

次のようには書かない

    if i < f()  // wrong!
    {           // wrong!
        g()
    }
