---
name: go-professional
description: Effective Go、Go Code Review Comments、Google Go Style Guide に基づく包括的な Go スタイル・コードレビュー・ベストプラクティスガイド。命名、エラーハンドリング、インターフェース、並行処理、テスト、プログラム構造においてプロフェッショナルな規約に従うため、Go コードの記述・レビュー・リファクタリング時に使用する。
translated_from: SKILL.md
---

# Go Professional

## 概要

本スキルは、3つの権威ある Go スタイルリファレンスを統合したリソースである:

- **Effective Go** — Go チームによる公式ガイド。Go の慣用的なパターン、規約、言語の仕組みを網羅する。
- **Go Code Review Comments** — Effective Go の補足としてコミュニティが管理するドキュメント。コードレビューでよく指摘されるスタイルの問題を集約している。
- **Google Go Style Guide** — Google 社内の Go スタイルガイド。大規模コードベース向けのスタイル原則、決定事項、ベストプラクティスを扱う。

これらは相互に補完し合う関係にある。Effective Go が言語の慣用表現を教え、Code Review Comments が実際の開発で頻出するミスに対処し、Google Style Guide がプロフェッショナルチーム向けの包括的なルールを提供する。

## 使用場面

- 新しい Go コードの記述（パッケージ、型、関数）
- 既存の Go コードのレビュー・リファクタリング
- 命名、フォーマット、構造に関する疑問の解決
- エラーハンドリング、インターフェース、並行処理パターンの設計
- チームのコーディング規約やレビューチェックリストの策定
- Go ベストプラクティスへの開発者オンボーディング

## リファレンスガイド

タスクに応じて `references/` から関連するファイルを読み込む。

> **注意**: `ja/` サブディレクトリには人間向けの日本語翻訳が含まれる。処理には常に英語のオリジナルを読み込むこと。

### Effective Go (`references/01-effective-go/`)

| ファイル | トピック | 参照場面 |
| ------ | ------- | ----------------- |
| `01-introduction.md` | イントロダクションと例 | 全体の把握 |
| `02-formatting.md` | gofmt、インデント、行の長さ | フォーマットに関する疑問 |
| `03-commentary.md` | コメントとドキュメントコメント | ドキュメント記述 |
| `04-names.md` | パッケージ名、ゲッター、インターフェース、MixedCaps | 命名の判断 |
| `05-semicolons.md` | セミコロン挿入ルール | 構文に関する疑問 |
| `06-control-structures.md` | if、for、switch、type switch | 制御フローパターン |
| `07-functions.md` | 複数戻り値、名前付き戻り値、defer | 関数設計 |
| `08-data.md` | new vs make、スライス、マップ、printing、append | データ構造の使用 |
| `09-initialization.md` | 定数、iota、変数、init 関数 | 初期化パターン |
| `10-methods.md` | ポインタレシーバ vs 値レシーバ | メソッド設計 |
| `11-interfaces-and-other-types.md` | インターフェース、型変換、型アサーション | インターフェース設計 |
| `12-blank-identifier.md` | ブランク識別子、未使用インポート | ブランク識別子のイディオム |
| `13-embedding.md` | インターフェースと構造体の埋め込み | コンポジションパターン |
| `14-concurrency.md` | ゴルーチン、チャネル、並列化 | 並行プログラミング |
| `15-errors.md` | エラー型、panic、recover | エラーハンドリング |

### 補足リファレンス (`references/`)

| ファイル | 出典 | 参照場面 |
| ------ | -------- | ----------------- |
| `02-code-review-comments.md` | Go Wiki | コードレビュー、よくあるスタイルの問題、命名、エラーハンドリング |
| `03-google-style-guide.md` | Google | スタイル原則、可読性、一貫性のガイドライン |
| `04-google-style-decisions.md` | Google | 具体的なスタイル決定事項: 命名、フォーマット、パターン |
| `05-google-best-practices.md` | Google | 実践的なガイダンス: テスト、エラーハンドリング、並行処理 |

## クイックリファレンス

3つのソース全体を通した重要ルール:

- **フォーマット**: `gofmt` を実行する。フォーマッタに逆らわない。
- **命名**: 短く簡潔な名前。アンダースコアではなく `MixedCaps`。ゲッターに `Get` プレフィックスを付けない。パッケージ名の重複を避ける（`bufio.BufReader` ではなく `bufio.Reader`）。`context.Context` には `ctx`、エラーには `err` を使用する。
- **制御フロー**: `return` 後の不要な `else` を排除する。正常パスのインデントを浅く保つ。`if-else` チェーンより `switch` を使用する。
- **エラーハンドリング**: 最後の戻り値としてエラーを返す。コンテキストを付与してラップする（`fmt.Errorf("op: %w", err)`）。エラーは即座に処理し、無視しない。`panic` より `error` を優先する。
- **エラー文字列**: 小文字で始め、句読点を付けない — 他のメッセージと結合される可能性があるため。
- **インターフェース**: インターフェースを受け取り、具象型を返す。メソッドが1つのインターフェースには `-er` サフィックスを付ける。インターフェースは実装側ではなく利用側で定義する。コンパイル時チェックを使用する（`var _ Interface = (*Type)(nil)`）。
- **並行処理**: 通信によってメモリを共有する。同期にはチャネルを使用する。固定ワーカープールを優先する。停止方法を把握せずにゴルーチンを起動しない。
- **パッケージ設計**: `package util` を避ける。不要なエクスポートをしない。型ではなく責務でパッケージを分離する。
- **テスト**: テーブル駆動テストを使用する。実装ではなく振る舞いをテストする。テストヘルパーでは `t.Helper()` を使用する。
- **コメント**: エクスポートされた名前にはすべてドキュメントコメントが必要。対象の名前で始める。
- **インポート**: 標準ライブラリ、サードパーティ、ローカルパッケージにグループ分けする。テスト以外ではドットインポートを使用しない。
