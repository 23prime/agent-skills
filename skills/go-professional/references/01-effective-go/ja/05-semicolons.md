# セミコロン

Cと同様に、Goの形式文法はセミコロンを使用して文を終端するが、Cとは異なり、それらのセミコロンはソースに現れない。代わりに、lexerは単純なルールを使用してスキャン時に自動的にセミコロンを挿入するため、入力テキストはほとんどセミコロンを含まない。

ルールは次のとおりである。改行前の最後のトークンが識別子（`int`や`float64`のような単語を含む）、数値や文字列定数などの基本リテラル、または次のトークンのいずれかである場合

    break continue fallthrough return ++ -- ) }

lexerは常にトークンの後にセミコロンを挿入する。これは「文を終了できるトークンの後に改行が来る場合、セミコロンを挿入する」と要約できる。

セミコロンは、閉じ括弧の直前でも省略できるため、次のような文

    go func() { for { dst <- <-src } }()

はセミコロンを必要としない。イディオマティックなGoプログラムは、`for`ループ句のような場所、つまり初期化子、条件、継続要素を分離する場合にのみセミコロンを持つ。また、一行に複数の文を書く場合には、文を分離するためにも必要である。

セミコロン挿入ルールの一つの帰結は、制御構造（`if`、`for`、`switch`、または`select`）の開き括弧を次の行に置くことができないことである。そうすると、括弧の前にセミコロンが挿入され、望ましくない効果を引き起こす可能性がある。次のように書く

    if i < f() {
        g()
    }

次のように書いてはいけない

    if i < f()  // wrong!
    {           // wrong!
        g()
    }
