# フォーマット

フォーマットの問題は最も論争を呼ぶが、最も重要性の低いものである。人々は異なるフォーマットスタイルに適応できるが、適応しなくてよいならその方が良いし、全員が同じスタイルに従えば、この話題に費やす時間が少なくなる。問題は、長い規範的なスタイルガイドなしに、この理想郷にどうアプローチするかである。

Goでは、異例のアプローチを取り、マシンにほとんどのフォーマット問題を任せる。`gofmt`プログラム（パッケージレベルで動作する`go fmt`としても利用可能、ソースファイルレベルではなく）は、Goプログラムを読み取り、標準スタイルのインデントと垂直配置でソースを出力し、コメントを保持し、必要に応じて再フォーマットする。新しいレイアウト状況をどう扱うか知りたい場合は、`gofmt`を実行すればよい。答えが正しくないように見える場合は、プログラムを再編成するか（または`gofmt`についてバグを報告するか）、回避策を使ってはいけない。

例えば、構造体のフィールドのコメントを揃えるのに時間を費やす必要はない。`gofmt`があなたの代わりにそれを行う。次の宣言があるとする

```go
type T struct {
    name string // name of the object
    value int // its value
}
```

`gofmt`は列を揃える:

```go
type T struct {
    name    string // name of the object
    value   int    // its value
}
```

標準パッケージ内のすべてのGoコードは`gofmt`でフォーマットされている。

いくつかのフォーマットの詳細は残っている。非常に簡潔に:

## インデント

インデントにはタブを使用し、`gofmt`はデフォルトでタブを出力する。スペースは必要な場合のみ使用する。

## 行の長さ

Goには行の長さ制限がない。パンチカードからはみ出すことを心配する必要はない。行が長すぎると感じたら、折り返して追加のタブでインデントする。

## 括弧

Goは、CやJavaよりも括弧が少なくて済む: 制御構造（`if`、`for`、`switch`）はその構文に括弧を持たない。また、演算子の優先順位階層が短く明確であるため、

```go
x<<8 + y<<16
```

は、他の言語とは異なり、スペースが示すとおりの意味になる。
